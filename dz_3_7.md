1. Проверьте список доступных сетевых интерфейсов на вашем компьютере. Какие команды есть для этого в Linux и в Windows?

win: ipconfig

lin: ip, ifconfig


2. Какой протокол используется для распознавания соседа по сетевому интерфейсу? Какой пакет и команды есть в Linux для этого?

Протокол LLDP, пакет LLDPD.

3. Какая технология используется для разделения L2 коммутатора на несколько виртуальных сетей? Какой пакет и команды есть в Linux для этого? Приведите пример конфига.

Технология VLAN, 

Команды 

1.

vconfig add eth0.5

Команда vconfig add создает на интерфейсе eth0 VLAN-устройство, в результате чего появляется интерфейс eth0.5.

2. 

ip link add link eth0 name eth0.10 type vlan id 10

ip -d link show eth0.10

ip addr add 192.168.1.200/24 brd 192.168.1.255 dev eth0.10

ip link set dev eth0.10 up


Конфигурация в файле /etc/network/interfaces

auto eth0.100
iface eth0.100 inet static
address 192.168.1.200
netmask 255.255.255.0
vlan-raw-device eth0





4. Какие типы агрегации интерфейсов есть в Linux? Какие опции есть для балансировки нагрузки? Приведите пример конфига.

Bonding – это объединение сетевых интерфейсов по определенному типу агрегации, Служит для увеличения пропускной способности и/или отказоустойчивость сети.

Типы агрегации интерфейсов в Linux:

Mode-0(balance-rr) – Данный режим используется по умолчанию. Balance-rr обеспечивается балансировку нагрузки и отказоустойчивость. В данном режиме сетевые пакеты отправляются “по кругу”, от первого интерфейса к последнему. Если выходят из строя интерфейсы, пакеты отправляются на остальные оставшиеся. Дополнительной настройки коммутатора не требуется при нахождении портов в одном коммутаторе. При разностных коммутаторах требуется дополнительная настройка.

Mode-1(active-backup) – Один из интерфейсов работает в активном режиме, остальные в ожидающем. При обнаружении проблемы на активном интерфейсе производится переключение на ожидающий интерфейс. Не требуется поддержки от коммутатора.

Mode-2(balance-xor) – Передача пакетов распределяется по типу входящего и исходящего трафика по формуле ((MAC src) XOR (MAC dest)) % число интерфейсов. Режим дает балансировку нагрузки и отказоустойчивость. Не требуется дополнительной настройки коммутатора/коммутаторов.

Mode-3(broadcast) – Происходит передача во все объединенные интерфейсы, тем самым обеспечивая отказоустойчивость. Рекомендуется только для использования MULTICAST трафика.

Mode-4(802.3ad) – динамическое объединение одинаковых портов. В данном режиме можно значительно увеличить пропускную способность входящего так и исходящего трафика. Для данного режима необходима поддержка и настройка коммутатора/коммутаторов.

Mode-5(balance-tlb) – Адаптивная балансировки нагрузки трафика. Входящий трафик получается только активным интерфейсом, исходящий распределяется в зависимости от текущей загрузки канала каждого интерфейса. Не требуется специальной поддержки и настройки коммутатора/коммутаторов.

Mode-6(balance-alb) – Адаптивная балансировка нагрузки. Отличается более совершенным алгоритмом балансировки нагрузки чем Mode-5). Обеспечивается балансировку нагрузки как исходящего так и входящего трафика. Не требуется специальной поддержки и настройки коммутатора/коммутаторов.


5. Сколько IP адресов в сети с маской /29 ? 

ipcalc 192.168.1.1/29

8 адресов.

Сколько /29 подсетей можно получить из сети с маской /24.

32 подсети

ipcalc 10.10.10.0/24 --s 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6

 
Приведите несколько примеров /29 подсетей внутри сети 10.10.10.0/24.

31. Requested size: 6 hosts

Netmask:   255.255.255.248 = 29 11111111.11111111.11111111.11111 000

Network:   10.10.10.240/29      00001010.00001010.00001010.11110 000

HostMin:   10.10.10.241         00001010.00001010.00001010.11110 001

HostMax:   10.10.10.246         00001010.00001010.00001010.11110 110

Broadcast: 10.10.10.247         00001010.00001010.00001010.11110 111

Hosts/Net: 6                     Class A, Private Internet


32. Requested size: 6 hosts

Netmask:   255.255.255.248 = 29 11111111.11111111.11111111.11111 000

Network:   10.10.10.248/29      00001010.00001010.00001010.11111 000

HostMin:   10.10.10.249         00001010.00001010.00001010.11111 001

HostMax:   10.10.10.254         00001010.00001010.00001010.11111 110

Broadcast: 10.10.10.255         00001010.00001010.00001010.11111 111

Hosts/Net: 6                     Class A, Private Internet

Needed size:  256 addresses.

Used network: 10.10.10.0/24



6. Задача: вас попросили организовать стык между 2-мя организациями. Диапазоны 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16 уже заняты. Из какой подсети допустимо взять частные IP адреса? Маску выберите из расчета максимум 40-50 хостов внутри подсети.


100.64.0.0 — 100.127.255.255 (маска подсети 255.192.0.0 или /10) - Данная подсеть рекомендована согласно RFC 6598 для использования в качестве адресов для CGN (Carrier-Grade NAT).


ipcalc 100.64.0.0/26

Address:   100.64.0.0           01100100.01000000.00000000.00 000000

Netmask:   255.255.255.192 = 26 11111111.11111111.11111111.11 000000

Wildcard:  0.0.0.63             00000000.00000000.00000000.00 111111

=>

Network:   100.64.0.0/26        01100100.01000000.00000000.00 000000

HostMin:   100.64.0.1           01100100.01000000.00000000.00 000001

HostMax:   100.64.0.62          01100100.01000000.00000000.00 111110

Broadcast: 100.64.0.63          01100100.01000000.00000000.00 111111

Hosts/Net: 62                    Class A


7. Как проверить ARP таблицу в Linux, Windows? Как очистить ARP кеш полностью? Как из ARP таблицы удалить только один нужный IP?

win, lin: просмотр: arp -a, удилить все arp -d * , удалить один: arp -d 192.168.1.1



